# 资料

| 名称                     | 地址                                                         |
| ------------------------ | ------------------------------------------------------------ |
| 微信支付官网(商户订单号) | [link](https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=4_2) |
|                          |                                                              |



### 商户订单号 生成规则

> 商户支付的订单号由商户自定义生成，仅支持使用字母、数字、中划线-、下划线_、竖线|、星号*这些英文半角字符的组合，请勿使用汉字或全角等特殊字符。微信支付要求商户订单号保持唯一性（建议根据当前系统时间加随机序列来生成订单号）。重新发起一笔支付要使用原订单号，避免重复支付；已支付过或已调用关单、撤销（请见后文的API列表）的订单号不能重新发起支付。
>
> 我们主要记住生成的订单编号必须是唯一不重复的编号其他的可以根据喜好生成

**代码生成示例**

> 自定义订单编号生成规则**日期+用户id+随机数字4位**

```php
# 建议做成全局调用的函数 
public function getOrderNo(){
        $date = date('YmdHis'); # 日期
        $userId=\Auth::user()->id; #用户id
        $randomFourNum=random_int(1000,9999); # 随机四位字符
        $orderNo = $date.$userId.$randomFourNum; 
        return $orderNo;
 }
```

