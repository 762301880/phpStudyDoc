# èµ„æ–™

| åç§°              | åœ°å€                                                         |
| ----------------- | ------------------------------------------------------------ |
| adbå·¥å…·å®˜æ–¹å®‰è£…åŒ… | [link](https://developer.android.google.cn/tools/adb?hl=en)     [download](https://developer.android.google.cn/tools/releases/platform-tools?hl=en) |
| ç½‘ç»œåšå®¢          | [link](https://www.cnblogs.com/ximaomao/p/14081479.html)     |



# ç¯å¢ƒå˜é‡é…ç½®

ä¾‹å¦‚æˆ‘çš„è§£å‹ç›®å½•æ˜¯`D:\Program Files\platform-tools`    ç›´æ¥æŠŠè¿™ä¸ªé…ç½®åˆ° **ç³»ç»Ÿå˜é‡  -   Path**  å˜é‡é‡Œå³å¯

#  æ‰‹æœºå¼€å¯USBè°ƒè¯•

vivoæ‰‹æœº   **ç³»ç»Ÿç®¡ç†>å¼€å‘è€…é€‰é¡¹>USBè°ƒè¯•**

#  ä½¿ç”¨

1. å®‰è£… ADB å·¥å…·ï¼š

   - å¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£… ADBï¼Œå¯ä»¥ä» Android å¼€å‘è€…å®˜ç½‘ ä¸‹è½½ Android SDK Platform-Toolsã€‚

2. è¿æ¥è®¾å¤‡ï¼š

   - ä½¿ç”¨ USB æ•°æ®çº¿å°†ä½ çš„ Android è®¾å¤‡è¿æ¥åˆ°ç”µè„‘ã€‚

   - åœ¨è®¾å¤‡ä¸Šå¯ç”¨å¼€å‘è€…é€‰é¡¹å’Œ USB è°ƒè¯•ã€‚é€šå¸¸å¯ä»¥åœ¨ è®¾ç½® > å…³äºæ‰‹æœº > è½¯ä»¶ä¿¡æ¯ ä¸­è¿ç»­ç‚¹å‡»â€œç‰ˆæœ¬å·â€7æ¬¡æ¥å¯ç”¨å¼€å‘è€…é€‰é¡¹ï¼Œç„¶ååœ¨ è®¾ç½® > ç³»ç»Ÿ > å¼€å‘

     é€‰é¡¹ ä¸­å¯ç”¨ USB è°ƒè¯•ã€‚

3. æ‰“å¼€å‘½ä»¤è¡Œå·¥å…·ï¼š

   - æ‰“å¼€ç»ˆç«¯ï¼ˆWindows ç”¨æˆ·å¯ä»¥ä½¿ç”¨ CMD æˆ– PowerShellï¼ŒMac å’Œ Linux ç”¨æˆ·å¯ä»¥ä½¿ç”¨ Terminalï¼‰ã€‚

4. è¿è¡Œ ADB å‘½ä»¤ï¼š

   - è¾“å…¥ä»¥ä¸‹å‘½ä»¤åˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„åº”ç”¨åŠå…¶åŒ…åï¼š

     ```shell
     adb shell pm list packages
     #  å†™å…¥åˆ°ç£ç›˜
     adb shell pm list packages  > d:packagelist.txt
     ```

     å¦‚æœä½ æƒ³æŸ¥æ‰¾ç‰¹å®šåº”ç”¨çš„åŒ…åï¼Œå¯ä»¥ä½¿ç”¨ grep å‘½ä»¤è¿›è¡Œè¿‡æ»¤ï¼Œä¾‹å¦‚ï¼š

     ```shell
     adb shell pm list packages | grep com.example
     ```

     

# æ–¹æ³•äºŒï¼šä½¿ç”¨ç¬¬ä¸‰æ–¹åº”ç”¨

å®‰è£…ç¬¬ä¸‰æ–¹åº”ç”¨ï¼š
åœ¨ Google Play å•†åº—ä¸­æœç´¢å¹¶å®‰è£…ä¸€äº›ä¸“é—¨ç”¨äºæŸ¥çœ‹åº”ç”¨åŒ…åçš„ç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œå¦‚ Package Name Viewerã€App Inspector ç­‰ã€‚
ä½¿ç”¨åº”ç”¨ï¼š
æ‰“å¼€å®‰è£…å¥½çš„ç¬¬ä¸‰æ–¹åº”ç”¨ï¼Œå®ƒä¼šåˆ—å‡ºæ‰€æœ‰å·²å®‰è£…çš„åº”ç”¨åŠå…¶åŒ…åã€‚ä½ å¯ä»¥é€šè¿‡æœç´¢æˆ–æ»šåŠ¨åˆ—è¡¨æ‰¾åˆ°ä½ éœ€è¦çš„åº”ç”¨åŒ…åã€‚
æ–¹æ³•ä¸‰ï¼šä½¿ç”¨è®¾å¤‡è‡ªå¸¦çš„è®¾ç½®
è¿›å…¥åº”ç”¨ä¿¡æ¯é¡µé¢ï¼š
æ‰“å¼€è®¾å¤‡çš„ è®¾ç½® åº”ç”¨ã€‚
é€‰æ‹© åº”ç”¨ æˆ– åº”ç”¨ç®¡ç†ã€‚
æ‰¾åˆ°ä½ æƒ³è¦æŸ¥çœ‹åŒ…åçš„åº”ç”¨ï¼Œç‚¹å‡»è¿›å…¥å…¶è¯¦ç»†ä¿¡æ¯é¡µé¢ã€‚
æŸ¥çœ‹åŒ…åï¼š
åœ¨åº”ç”¨çš„è¯¦ç»†ä¿¡æ¯é¡µé¢ä¸­ï¼Œé€šå¸¸ä¼šæœ‰ä¸€ä¸ªâ€œåº”ç”¨ä¿¡æ¯â€æˆ–â€œé«˜çº§â€éƒ¨åˆ†ï¼Œé‡Œé¢ä¼šæ˜¾ç¤ºåº”ç”¨çš„åŒ…åã€‚å…·ä½“ä½ç½®å¯èƒ½ä¼šå› è®¾å¤‡å‹å·å’Œç³»ç»Ÿç‰ˆæœ¬è€Œæœ‰æ‰€ä¸åŒã€‚

#  æ¡ˆä¾‹

##  æ§åˆ¶æ‰‹æœºåˆ·è§†é¢‘

```shell
#!/bin/bash

# é¢œè‰²å®šä¹‰
GREEN='\e[32m'
YELLOW='\e[33m'
CYAN='\e[36m'
RESET='\e[0m'

counter=0  # åˆå§‹åŒ–è®¡æ•°å™¨

while true
do
  ((counter++))  # è®¡æ•°å™¨è‡ªå¢

  # å½©è‰²è¾“å‡ºå½“å‰æ¬¡æ•°
  echo -e "${GREEN}>>> æ­£åœ¨æ‰§è¡Œç¬¬ ${YELLOW}$counter ${GREEN}éæ»‘åŠ¨ ${RESET}"

  # æ‰§è¡Œæ»‘åŠ¨æ“ä½œ
  adb shell input swipe 500 1500 500 500 300

  # ç”Ÿæˆéšæœºå»¶è¿Ÿ
  delay=$(( ( RANDOM % 4 ) + 5 ))

  echo -ne "${CYAN}ğŸ•’ å€’è®¡æ—¶ï¼š ${RESET}"

  # åŠ¨æ€å€’è®¡æ—¶
  for ((i=delay; i>0; i--)); do
    echo -ne "${CYAN}${i} ç§’...${RESET} \r"
    sleep 1
  done

  echo ""  # æ¢è¡Œ
done
```

# ADBå‘½ä»¤é€ŸæŸ¥è¡¨

ä»¥ä¸‹æ˜¯å¸¸ç”¨ **ADBï¼ˆAndroid Debug Bridgeï¼‰å‘½ä»¤å¤§å…¨**ï¼Œæ¶µç›–äº†è®¾å¤‡è¿æ¥ã€åº”ç”¨ç®¡ç†ã€æ–‡ä»¶æ“ä½œã€æ—¥å¿—è°ƒè¯•ç­‰å¤šä¸ªæ–¹é¢ï¼Œé€‚åˆå¼€å‘ã€æµ‹è¯•åŠè°ƒè¯•ä½¿ç”¨ï¼š

------

### ğŸ”Œ ä¸€ã€è®¾å¤‡è¿æ¥ä¸ç®¡ç†



| å‘½ä»¤                                   | è¯´æ˜                           |
| -------------------------------------- | ------------------------------ |
| `adb devices`                          | æŸ¥çœ‹å·²è¿æ¥è®¾å¤‡åˆ—è¡¨             |
| `adb connect <ip>:<port>`              | è¿æ¥è¿œç¨‹è®¾å¤‡                   |
| `adb disconnect`                       | æ–­å¼€æ‰€æœ‰è¿œç¨‹è¿æ¥               |
| `adb kill-server` / `adb start-server` | é‡å¯ ADB æœåŠ¡                  |
| `adb get-state`                        | è·å–è®¾å¤‡çŠ¶æ€ï¼ˆdevice/offlineï¼‰ |
| `adb reboot`                           | é‡å¯è®¾å¤‡                       |
| `adb reboot bootloader`                | é‡å¯åˆ° bootloader æ¨¡å¼         |
| `adb reboot recovery`                  | é‡å¯åˆ° recovery æ¨¡å¼           |

------

### ğŸ“± äºŒã€å®‰è£…ä¸å¸è½½åº”ç”¨



| å‘½ä»¤                         | è¯´æ˜                     |
| ---------------------------- | ------------------------ |
| `adb install <apkè·¯å¾„>`      | å®‰è£… APK                 |
| `adb install -r <apkè·¯å¾„>`   | é‡æ–°å®‰è£…ï¼ˆä¿ç•™æ•°æ®ï¼‰     |
| `adb uninstall <åŒ…å>`       | å¸è½½åº”ç”¨                 |
| `adb uninstall -k <åŒ…å>`    | å¸è½½åº”ç”¨ä½†ä¿ç•™æ•°æ®å’Œç¼“å­˜ |
| `adb shell pm list packages` | åˆ—å‡ºæ‰€æœ‰åŒ…å             |

------

### ğŸ§­ ä¸‰ã€åº”ç”¨æ§åˆ¶ä¸å¯åŠ¨



| å‘½ä»¤                                                         | è¯´æ˜              |
| ------------------------------------------------------------ | ----------------- |
| `adb shell monkey -p <åŒ…å> -c android.intent.category.LAUNCHER 1` | å¯åŠ¨åº”ç”¨          |
| `adb shell am start -n <åŒ…å>/<Activityå>`                  | ç²¾ç¡®å¯åŠ¨ Activity |
| `adb shell am force-stop <åŒ…å>`                             | å¼ºåˆ¶åœæ­¢åº”ç”¨      |
| `adb shell pm clear <åŒ…å>`                                  | æ¸…é™¤åº”ç”¨æ•°æ®      |

------

### ğŸ“‚ å››ã€æ–‡ä»¶ä¼ è¾“ä¸ç®¡ç†



| å‘½ä»¤                             | è¯´æ˜                   |
| -------------------------------- | ---------------------- |
| `adb push <æœ¬åœ°æ–‡ä»¶> <è®¾å¤‡è·¯å¾„>` | å°†æ–‡ä»¶æ¨é€åˆ°è®¾å¤‡       |
| `adb pull <è®¾å¤‡æ–‡ä»¶> <æœ¬åœ°è·¯å¾„>` | å°†æ–‡ä»¶ä»è®¾å¤‡æ‹‰å–åˆ°æœ¬åœ° |
| `adb shell ls <è·¯å¾„>`            | æŸ¥çœ‹è®¾å¤‡ä¸Šçš„æ–‡ä»¶       |
| `adb shell rm <è·¯å¾„>`            | åˆ é™¤è®¾å¤‡ä¸Šçš„æ–‡ä»¶       |

------

### ğŸš äº”ã€Shell æ“ä½œ



| å‘½ä»¤                                      | è¯´æ˜             |
| ----------------------------------------- | ---------------- |
| `adb shell`                               | è¿›å…¥è®¾å¤‡ Shell   |
| `adb shell <å‘½ä»¤>`                        | åœ¨è®¾å¤‡ä¸Šæ‰§è¡Œå‘½ä»¤ |
| `adb shell dumpsys`                       | æŸ¥çœ‹ç³»ç»ŸæœåŠ¡ä¿¡æ¯ |
| `adb shell screencap /sdcard/screen.png`  | æˆªå›¾             |
| `adb shell screenrecord /sdcard/demo.mp4` | å½•å±             |
| `adb shell input text "hello"`            | æ¨¡æ‹Ÿè¾“å…¥         |
| `adb shell input tap x y`                 | æ¨¡æ‹Ÿç‚¹å‡»         |
| `adb shell input swipe x1 y1 x2 y2`       | æ¨¡æ‹Ÿæ»‘åŠ¨         |

------

### ğŸ§ª å…­ã€è°ƒè¯•ä¸æ—¥å¿—



| å‘½ä»¤                   | è¯´æ˜              |
| ---------------------- | ----------------- |
| `adb logcat`           | æŸ¥çœ‹è®¾å¤‡æ—¥å¿—      |
| `adb logcat -s <TAG>`  | è¿‡æ»¤æŒ‡å®š TAG æ—¥å¿— |
| `adb logcat > log.txt` | å°†æ—¥å¿—ä¿å­˜åˆ°æ–‡ä»¶  |
| `adb bugreport`        | è·å–å®Œæ•´ bug æŠ¥å‘Š |

------

### ğŸ§° ä¸ƒã€ç½‘ç»œä¸ç«¯å£è½¬å‘



| å‘½ä»¤                                | è¯´æ˜                       |
| ----------------------------------- | -------------------------- |
| `adb forward <æœ¬åœ°ç«¯å£> <è¿œç¨‹ç«¯å£>` | è®¾ç½®ç«¯å£è½¬å‘               |
| `adb reverse <è¿œç¨‹ç«¯å£> <æœ¬åœ°ç«¯å£>` | åå‘ç«¯å£è½¬å‘ï¼ˆé€‚ç”¨äºå¼€å‘ï¼‰ |